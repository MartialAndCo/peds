
model Message {
  id              Int          @id @default(autoincrement())
  conversationId  Int
  sender          String       // 'ai' or 'contact'
  message_text    String
  waha_message_id String?      @unique // <--- ADDING THIS
  timestamp       DateTime     @default(now())
  
  conversation    Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)

  @@map("messages")
}
